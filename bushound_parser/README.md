
## 功能介绍
bushound_parser 是一个命令行工具，用来解析 Bushound 软件保存的日志文件。
根据《MER-500-14U3X主机与固件寄存器列表.xls》这篇文档，解析出 U3VC 控制命令的内容。
根据 Genicam 的协议，解析出 Leader Trailer 中的数据内容。

## 使用须知
Bushound的窗口中的数据必须是4列的模式，即每行的空间是16个字节。示例如下：
```
  27.3                             36  IN     55 33 56 54  00 00 24 00  1b 02 00 00  00 00 00 00  U3VT..$.........   16us     86414.1.0        13:34:17.650
                                              00 00 00 00  28 28 23 00  00 00 00 00  b0 04 00 00  ....((#.........            86414.1.16
                                              03 00 00 00                                         ....                        86414.1.32
  27.1                             24  OUT    55 33 56 43  00 40 00 08  0c 00 c4 08  3c 00 90 00  U3VC.@......<...  777ms     86415.1.0        13:34:18.427
                                              00 00 00 00  00 00 04 00                            ........                    86415.1.16
  27.1                             16  IN     55 33 56 43  00 00 01 08  04 00 c4 08  00 00 00 00  U3VC............  670us     86416.1.0        13:34:18.427
  27.1                             24  OUT    55 33 56 43  00 40 00 08  0c 00 c5 08  3c 00 90 00  U3VC.@......<...  143us     86417.1.0        13:34:18.428
                                              00 00 00 00  00 00 04 00                            ........                    86417.1.16
  27.1                             16  IN     55 33 56 43  00 00 01 08  04 00 c5 08  00 00 00 00  U3VC............  674us     86418.1.0        13:34:18.428
  27.1                             24  OUT    55 33 56 43  00 40 02 08  0c 00 c6 08  38 00 90 00  U3VC.@......8...  187us     86419.1.0        13:34:18.428
                                              00 00 00 00  25 40 0f 00                            ....%@..                    86419.1.16
  27.1                             16  IN     55 33 56 43  00 00 03 08  04 00 c6 08  00 00 04 00  U3VC............  1.2ms     86420.1.0        13:34:18.430
  27.3                             52  IN     55 33 56 4c  00 00 34 00  1c 02 00 00  00 00 00 00  U3VL..4.........  213ms     86421.1.0        13:34:18.643
                                              00 00 01 40  58 19 e6 4f  bc 00 00 00  09 00 08 01  ...@X..O........            86421.1.16
                                              80 07 00 00  b0 04 00 00  00 00 00 00  00 00 00 00  ................            86421.1.32
                                              00 00 00 00                                         ....                        86421.1.48
```
否则，bushound_parser 无法解析日志文件

## 使用方法
### step 1
在环境变量 path 中添加 bushound_parser 的路径

### step 2
保存bushound日志到某一个路径，比如 f:\test\1.txt

### step 3
打开 命令控制台，输入如下信息
bushound_parser f:\test\1.txt

### step 4
程序会在 f:\test\ 目录下输出2个解析文件
1_parser.txt
1_summary.txt

### step 5
文件分析

***1_parser.txt***
在原始文档的某些行的末尾添加了解析后的内容

```
  27.3                             36  IN     55 33 56 54  00 00 24 00  1b 02 00 00  00 00 00 00  U3VT..$.........   16us     86414.1.0        13:34:17.650  	# trailer_size is 36. block is 0x21b. status is 0x0000. valid_payload_size is 0x00232828(2304040). trailer_size_y is 0x04b0(1200). chunk_layout_id is 0x03(3).
                                              00 00 00 00  28 28 23 00  00 00 00 00  b0 04 00 00  ....((#.........            86414.1.16
                                              03 00 00 00                                         ....                        86414.1.32
  27.1                             24  OUT    55 33 56 43  00 40 00 08  0c 00 c4 08  3c 00 90 00  U3VC.@......<...  777ms     86415.1.0        13:34:18.427  	#Read ExposureAuto 0x0004Byte
                                              00 00 00 00  00 00 04 00                            ........                    86415.1.16
  27.1                             16  IN     55 33 56 43  00 00 01 08  04 00 c4 08  00 00 00 00  U3VC............  670us     86416.1.0        13:34:18.427  	#ReadAck 0x00000000
  27.1                             24  OUT    55 33 56 43  00 40 00 08  0c 00 c5 08  3c 00 90 00  U3VC.@......<...  143us     86417.1.0        13:34:18.428  	#Read ExposureAuto 0x0004Byte
                                              00 00 00 00  00 00 04 00                            ........                    86417.1.16
  27.1                             16  IN     55 33 56 43  00 00 01 08  04 00 c5 08  00 00 00 00  U3VC............  674us     86418.1.0        13:34:18.428  	#ReadAck 0x00000000
  27.1                             24  OUT    55 33 56 43  00 40 02 08  0c 00 c6 08  38 00 90 00  U3VC.@......8...  187us     86419.1.0        13:34:18.428  	#Write ExposureTime 0x000f4025
                                              00 00 00 00  25 40 0f 00                            ....%@..                    86419.1.16
  27.1                             16  IN     55 33 56 43  00 00 03 08  04 00 c6 08  00 00 04 00  U3VC............  1.2ms     86420.1.0        13:34:18.430  	#WriteAck 0x0004Byte
  27.3                             52  IN     55 33 56 4c  00 00 34 00  1c 02 00 00  00 00 00 00  U3VL..4.........  213ms     86421.1.0        13:34:18.643  	# block is 0x21c. chunk_mode_active is 1. timestamp is 0xbc4fe61958. pixel_format is 0x01080009(BayerRG8). size_x is 0x0780(1920). size_y is 0x04b0(1200). offset_x is 0x0000(0). offset_y is 0x0000(0).
                                              00 00 01 40  58 19 e6 4f  bc 00 00 00  09 00 08 01  ...@X..O........            86421.1.16
                                              80 07 00 00  b0 04 00 00  00 00 00 00  00 00 00 00  ................            86421.1.32
                                              00 00 00 00                                         ....                        86421.1.48
```

***1_summary.txt***
只保留解析后的信息和对应的原始文档的行号

```
line num is 298266	 trailer_size is 36. block is 0x21b. status is 0x0000. valid_payload_size is 0x00232828(2304040). trailer_size_y is 0x04b0(1200). chunk_layout_id is 0x03(3).
line num is 298269	Read ExposureAuto 0x0004Byte
line num is 298271	ReadAck 0x00000000
line num is 298272	Read ExposureAuto 0x0004Byte
line num is 298274	ReadAck 0x00000000
line num is 298275	Write ExposureTime 0x000f4025
line num is 298277	WriteAck 0x0004Byte
line num is 298278	 block is 0x21c. chunk_mode_active is 1. timestamp is 0xbc4fe61958. pixel_format is 0x01080009(BayerRG8). size_x is 0x0780(1920). size_y is 0x04b0(1200). offset_x is 0x0000(0). offset_y is 0x0000(0).
```
